<div id="productos">

  <div class="producto" class="card" *ngFor="let producto of productos">
    <div class="contenedorFoto"><img draggable="false" class="foto" src="../assets/img/{{producto.foto}}"
        title="{{producto.nombre}}" />
    </div>
    <div id="info">

      <label clas="card-title">{{producto.nombre}}</label>
      <label>{{producto.precioVenta}}€ </label>
      <label>Posicion:{{producto.posicion}}</label>

    </div>
  </div>
</div>

<div id="botonera">

  <button *ngFor="let string of botones" class="btn btn-dark rounded-1" (click)="escribirProducto($event)" type="button"
    style="margin:1%">{{string}}</button>

</div>

<div id="botoneraFunciones">

  <button id="botonModal" class="btn btn-outline-dark rounded-1" type="button" (click)="modal()">Insertar
    monedas</button>
  <button id="aceptarBtn" class="btn btn-outline-dark rounded-1" type="button" (click)="compra()">Aceptar</button>
  <button id="borrarBtn" class="btn btn-outline-dark rounded-1" type="button" (click)="borrar()">Borrar</button>
  <button id="borrarTodoBtn" class="btn btn-outline-dark rounded-1" type="button" (click)="borrarTodo()">Borrar
    todo</button>

</div>

<div id="mostrarSaldo"><span>Saldo:</span>{{saldo| number}}</div>
<div id="mostrarProducto"><span>Producto:{{productoId}}</span></div>

<div id="adminControl">

  <div id="adminBotones">

    <button type="button" class="btn btn-outline-dark rounded-1" (click)="insertarProductos()">Inserción de
      productos</button>
    <button type="button" class="btn btn-outline-dark rounded-1" (click)="insertarMonedas()">Inserción de
      monedas</button>
    <button type="button" class="btn btn-outline-dark rounded-1" (click)="listarProductos()">Ver listado de
      productos-cantidad</button>
    <button type="button" class="btn btn-outline-dark rounded-1" (click)="listarMonedas()">Ver listado de
      monedas-cantidad</button>
    <button id="btnGanancias" class="btn btn-outline-dark rounded-1" (click)="verGanancias()">Ver ganancias</button>

  </div>

  <div id="inputs">

    <label>Cantidad</label>

    <input id="inputCantidad" class="form-control" type="number" [(ngModel)]="cantidadInsertar" />

    <label>Posicion/Valor</label>

    <select id="inputPosicion" class="form-control" [(ngModel)]="nombreAgregar">

      <option value="">selecciona un producto</option>
      <option *ngFor="let producto of productos">{{producto.nombre}}</option>

    </select>

    <select id="inputValor" class="form-control" [(ngModel)]="valorAgregar">

      <option value="0">selecciona una moneda</option>
      <option *ngFor="let moneda of listaMonedas">{{moneda.valor}}</option>

    </select>
    <div id="botonesInsertarProducto">
      <button id="nuevoProductoBtn" class="btn btn-outline-dark rounded-1" (click)="mostrarFormulario()">Nuevo</button>
      <button id="confirmar" class="btn btn-outline-dark rounded-1" type="button"
        (click)="confirmarInsertar()">Confirmar</button>
    </div>
  </div>

  <form id="formNuevoProducto" #addForm="ngForm" (submit)="nuevoProducto(addForm)">
    <div class="form-group">
      <label>ID</label>
      <input type="number" class="form-control" ngModel name="id">
    </div>
    <div class="form-group">
      <label>Nombre</label>
      <input class="form-control" ngModel name="nombre" type="text">
    </div>
    <div class="form-group">
      <label>Precio Compra</label>
      <input class="form-control" ngModel name="precioCompra" type="number">
    </div>
    <div class="form-group">
      <label>Precio Venta</label>
      <input class="form-control" ngModel name="precioVenta" type="number">
    </div>
    <div class="form-group">
      <label>Posición</label>
      <input class="form-control" ngModel name="posicion" type="text">
    </div>
    <div class="form-group">
      <label>Peso</label>
      <input class="form-control" ngModel name="peso" type="number">
    </div>
    <div class="form-group">
      <label>Cantidad</label>
      <input class="form-control" ngModel name="cantidad" type="number">
    </div>
    <div class="form-group">
      <label>Foto</label>
      <input class="form-control" ngModel name="foto" type="text">
    </div>
    <button type="submit" class="btn btn-primary">Aceptar</button>
  </form>

  <div id="listaProductos">

    <table>

      <tr>

        <th>NOMBRE</th>
        <th>CANTIDAD</th>

      </tr>

      <tr *ngFor="let producto of productos">

        <td>{{producto.nombre}}</td>
        <td style="text-align: center;">{{producto.cantidad}}</td>

      </tr>

    </table>

  </div>

  <div id="listaMonedas">

    <table>

      <tr>

        <th>VALOR</th>
        <th>CANTIDAD</th>

      </tr>

      <tr *ngFor="let moneda of listaMonedas">

        <td>{{moneda.valor}}</td>
        <td>{{moneda.cantidad}}</td>

      </tr>

    </table>

  </div>

  <div id="divGanancias" *ngIf="mostrarGanancias==true">

    <form id="formGanancias">
      <div class="form-group">
        <label>Fecha Desde:</label>
        <input class="form-control" [(ngModel)]="fechaInicio" name="fechaInicio" type="date">
      </div>
      <div class="form-group">
        <label>Fecha Hasta:</label>
        <input class="form-control" [(ngModel)]="fechaFin" name="fechaFin" type="date">
      </div>

      <button class="btn btn-outline-dark rounded-1" type="submit" (click)="getVentasByFecha()">Aceptar</button>
      <button class="btn btn-primary rounded-1" type="button" *ngIf="mostrarDescargar==true" (click)="descargarInforme()">Descargar Informe</button>
      <table id="tablaVentas">
        <tr>

          <th>ID</th>

          <th>FECHA</th>

          <th>ID PRODUCTO</th>

          <th>DINERO</th>

        </tr>
        <tr *ngFor="let venta of ventasFiltradas">
          <td>{{venta.id}}</td> 
          <td>{{venta.fecha|date}}</td>
          <td>{{venta.idProducto}}</td>
          <td>{{venta.dineroIngresado}}</td>
        </tr>
      </table>

      <span *ngIf="mostrarGanancias==true">total:{{gananciasFiltradas|number}}€</span>
    </form>
  </div>

</div>
<div id="cambios" *ngIf="mostrarCambio==true">
  <span>Cambio: </span>
  <div class="cambio" *ngFor="let moneda of cambios">
    <div class="contenedorFotoCambio"><img draggable="false" class="foto" src="../assets/img/monedas/{{moneda.foto}}"
        title="{{moneda.valor}}" /></div>
  </div>

</div>

<div id="modalMonedas" class="modal" style="display: none;">
  <app-monedas (newItemEvent)="addItem($event)" (monedasInsertadas)="addItem2($event)"
    (listarMonedas)="addItem3($event)" [reiniciarCompra]="reiniciarCompra"
    [reiniciarListado]="reiniciarListado"></app-monedas>
</div>